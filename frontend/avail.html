<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>When2meet</title>
        <meta name="description" content="Meeting time finder" />

        <meta property="og:title" content="When2meet" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="when2meet.ca" />
        <meta
            property="og:description"
            content="Meeting time finder."
        />

        <link rel="icon" href="../images/userplus.png" type="image/png" />

        <link rel="stylesheet" href="./styles.css">
        <script defer src="https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js"></script>

        <script>
            // select the element with ID "times", and append a grid to it
            // with 7 columns and 24 rows, and a border of 1px
            var grid = document.querySelector("#times");
            grid.className = "grid";
            grid.style.border = "1px solid black";
            let gridSize = 24;
            for (let i = 0; i < gridSize; i++) {
                let row = document.createElement("div");
                row.className = "row";
                for (let j = 0; j < gridSize; j++) {
                    let cell = document.createElement("div");
                    cell.className = "cell";
                    cell.style.border = "1px solid black";
                    row.appendChild(cell);
                }
                grid.appendChild(row);
            }
            


            function getEvent(name) {
                fetch(`http://127.0.0.1:8000/single/`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            id: name,
                        })
                    }).then(res => console.log(res.json()));

                    // change the color of 
            }
        </script>
    </head>
    <style>
        .container {
            margin-top: 20%;
            width: 70%;
            margin: auto;
            justify-content: center;
        }

        button {
            background-color: orange;
            margin: 5px;
            padding: 5px;
        }

    </style>

<body>
    <div class="container flex items-center" x-data="{id: 0}">
        <div>
        <input x-model="id" class="appearance-none bg-transparent border-none w-full text-black-700 mr-3 py-1 px-2 leading-tight focus:outline-none" type="text" placeholder="Event name" aria-label="Event name">
        <button @click="getEvent(id)" type="button" class="date-btn hover:bg-green-800 bg-green-700 drop-shadow-xl">Search</button>
        </div>

         <!-- make a grid with 7 columns and 24 rows blue background-->

         <div id="times"></div>

         

         

        <div class="grid grid-cols-7 gap-4">


        <div class="day flex items-center flex-col" x-data="{ count: 0 }">
            <button x-on:click="count++">11:00</button>
            <button>12:00</button>
            <button>13:00</button>
            <button>14:00</button>
            <button>15:00</button>
            <button>16:00</button>
            <button>17:00</button>
            <button>18:00</button>
            <button>19:00</button>
            <span x-text="count"></span>
        </div>
        <div class="day flex items-center flex-col">
            <button>11:00</button>
            <button>12:00</button>
            <button>13:00</button>
            <button>14:00</button>
            <button>15:00</button>
            <button>16:00</button>
            <button>17:00</button>
            <button>18:00</button>
            <button>19:00</button>
        </div>
        <div class="day flex items-center flex-col">
            <button>11:00</button>
            <button>12:00</button>
            <button>13:00</button>
            <button>14:00</button>
            <button>15:00</button>
            <button>16:00</button>
            <button>17:00</button>
            <button>18:00</button>
            <button>19:00</button>
        </div>
    </div>
</body>

</html>